---
import Layout from '../../layouts/Layout.astro';
---

<Layout title="áƒœáƒáƒ¡áƒ¬áƒáƒ•áƒšáƒ˜ áƒ¤áƒ áƒáƒ–áƒ”áƒ‘áƒ˜ â€” FluentGe">
  <section class="max-w-2xl mx-auto px-4 py-12">
    <a href="/dashboard/" class="text-[#6B6B65] hover:text-[#C8C8C0] text-sm mb-4 inline-block">â† áƒ“áƒ”áƒ¨áƒ‘áƒáƒ áƒ“áƒ˜</a>
    <h1 class="font-['Playfair_Display',serif] text-2xl font-bold mb-2">ğŸ’¬ áƒœáƒáƒ¡áƒ¬áƒáƒ•áƒšáƒ˜ áƒ¤áƒ áƒáƒ–áƒ”áƒ‘áƒ˜</h1>
    <div class="flex items-center justify-between mb-6">
      <p class="text-[#A0A09A] text-sm">áƒ¡áƒ£áƒš: <span id="count" class="font-bold text-[#C8C8C0]">0</span> áƒ¤áƒ áƒáƒ–áƒ</p>
      <a href="/dashboard/phrases/?clear=1" class="bg-red-500/10 hover:bg-red-500/20 border border-red-500/30 text-red-400 text-xs font-semibold px-3 py-2 rounded-xl transition-colors inline-block cursor-pointer no-underline">ğŸ—‘ï¸ áƒ’áƒáƒ¡áƒ£áƒ¤áƒ—áƒáƒ•áƒ”áƒ‘áƒ</a>
    </div>
    
    <div id="list" class="space-y-2"></div>
    <div id="empty" class="hidden text-center py-12">
      <p class="text-4xl mb-3">ğŸ’¬</p>
      <p class="text-[#6B6B65]">áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒœáƒáƒ¡áƒ¬áƒáƒ•áƒšáƒ˜ áƒ¤áƒ áƒáƒ–áƒ”áƒ‘áƒ˜</p>
      <a href="/phrases/" class="inline-block mt-4 bg-[#5B7F5E] text-white px-6 py-2 rounded-xl text-sm font-semibold hover:bg-[#4a6b4d]">áƒ¤áƒ áƒáƒ–áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒ•áƒ”áƒ áƒ“áƒ–áƒ” áƒ’áƒáƒ“áƒáƒ¡áƒ•áƒšáƒ</a>
    </div>
  </section>

  <script is:inline>
    (function() {
      if (window.location.search.indexOf('clear=1') > -1) {
        localStorage.removeItem('fluentge-learned-phrases');
        window.location.href = '/dashboard/phrases/';
        return;
      }
      var phrases = JSON.parse(localStorage.getItem('fluentge-learned-phrases') || '[]');
      document.getElementById('count').textContent = phrases.length;
      if (phrases.length === 0) {
        document.getElementById('empty').classList.remove('hidden');
      } else {
        var list = document.getElementById('list');
        phrases.forEach(function(p) {
          var div = document.createElement('div');
          div.className = 'bg-[#242426] border border-[#2E2E30] rounded-xl p-4 flex items-center gap-3';
          div.innerHTML = '<span class="text-green-400">âœ“</span><span class="text-sm">' + p + '</span>';
          list.appendChild(div);
        });
      }
      document.getElementById('clear-btn').addEventListener('click', function() {
        if (confirm('áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒáƒ“ áƒ’áƒ˜áƒœáƒ“áƒ áƒ§áƒ•áƒ”áƒšáƒ áƒœáƒáƒ¡áƒ¬áƒáƒ•áƒšáƒ˜ áƒ¤áƒ áƒáƒ–áƒ˜áƒ¡ áƒ’áƒáƒ¡áƒ£áƒ¤áƒ—áƒáƒ•áƒ”áƒ‘áƒ?')) {
          localStorage.removeItem('fluentge-learned-phrases');
          document.getElementById('count').textContent = '0';
          document.getElementById('list').innerHTML = '';
          document.getElementById('empty').classList.remove('hidden');
        }
      });
    })();
  </script>
</Layout>
